<html>
<head>
	<meta charset="utf-8">
	<link rel="stylesheet" href="css.css">
	<style>
		body {
			background-color: hsl(0, 0%, 13%);
		}
	</style>
</head>
<body>
	<div class="ae-animated-example generation-example">
		<div id="ae-cont">
		</div>
	</div>
	<script src="svg.js"></script>
	<script>
		var myEngine = new AEengine(SVGmodel);
		var myDisplay = new AEdisplay('test', SVGmodel, SVGrelations, SVGconfig);
		var stack = null;

		myEngine.on('new-example', function(e) {
			myDisplay.addAction({
				'svg': {
					'showExample': [e.example]
				}
			});
		});

		myEngine.on('end-example', function(e) {
			myDisplay.addUnaction({
				'svg': {
					'showExample': [e.example]
				}
			});
		});

		myEngine.on('new-object', function(e) {
			myDisplay.addAction({
				'svg': {
					'showObject': [[e.example, e.object]]
				}
			});
			stack = {};
		});

		myEngine.on('end-object', function(e) {
			myDisplay.addAction({
				'text': stack
			});
			myDisplay.addUnaction({
				'svg': {
					'showObject': [[e.example, e.object]]
				}
			});
		});

		myEngine.on('combi-line', function(e) {
			stack[e.index] = {
				size: e.value.inter.min + ' -> ' + e.value.inter.max,
				color: e.value.color,
				shape: e.value.shape,
			}
		});

		myDisplay.linkElement(document.querySelector('#ae-cont'));
		myDisplay.prepareSvg();
		myDisplay.prepareTable();
		myDisplay.init();
		myEngine.run();

		document.addEventListener('keydown', function(e) {
			if(e.keyCode == 65) {
				myDisplay.nextStep();
			}
		});

	</script>
</body>
</html>